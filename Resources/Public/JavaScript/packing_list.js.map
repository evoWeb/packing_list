{"version":3,"sources":["node_modules/browser-pack/_prelude.js","packing_list.min.js","Sources/TypeScript/Controller/NavigationController.ts","Sources/TypeScript/Controller/ShareController.ts","Sources/TypeScript/Utility/Fetch.ts","Sources/TypeScript/packing_list.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","NavigationController","elements","window","document","querySelectorAll","M","Dropdown","init","hover","alignment","2","ShareController","Fetch_1","this","initializeModal","initializeShareLinks","prototype","modal","querySelector","message","acceptButton","addEventListener","acceptButtonClicked","bind","instance","Modal","dismissible","_this","shareLinks","slice","forEach","shareLink","linkClicked","event","preventDefault","currentTarget","innerHTML","dataset","undefined","href","openModal","open","enableSharingViaAjax","copyToClipboard","uri","Fetch","then","processResponse","response","data","JSON","parse","responseText","temporaryElement","createElement","body","appendChild","select","execCommand","removeChild","../Utility/Fetch","3","url","options","onFulfillment","onError","onCompletion","xhr","XMLHttpRequest","internalFetchContext","onreadystatechange","_data","readyState","status","callback","send","fulfillmentFunction","push","catch","errorFunction","finally","completionFunction","4","ShareController_1","NavigationController_1","PackingList","default","./Controller/NavigationController","./Controller/ShareController"],"mappings":"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","file":"packing_list.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","!function t(e,o,n){function i(a,s){if(!o[a]){if(!e[a]){var c=\"function\"==typeof require&&require;if(!s&&c)return c(a,!0);if(r)return r(a,!0);var l=new Error(\"Cannot find module '\"+a+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var u=o[a]={exports:{}};e[a][0].call(u.exports,(function(t){return i(e[a][1][t]||t)}),u,u.exports,t,e,o,n)}return o[a].exports}for(var r=\"function\"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e,o){\"use strict\";Object.defineProperty(o,\"__esModule\",{value:!0}),o.NavigationController=void 0;var n=function(){var t=window.document.querySelectorAll(\".dropdown-trigger\");M.Dropdown.init(t,{hover:!1,alignment:\"right\"})};o.NavigationController=n},{}],2:[function(t,e,o){\"use strict\";Object.defineProperty(o,\"__esModule\",{value:!0}),o.ShareController=void 0;var n=t(\"../Utility/Fetch\"),i=function(){function t(){this.initializeModal(),this.initializeShareLinks()}return t.prototype.initializeModal=function(){this.modal=window.document.querySelector(\"#shareModal\"),this.message=this.modal.querySelector(\".modal-content p\"),this.acceptButton=this.modal.querySelector(\".modal-footer .green\"),this.acceptButton.addEventListener(\"click\",this.acceptButtonClicked.bind(this)),this.instance=M.Modal.init(this.modal,{dismissible:!1})},t.prototype.initializeShareLinks=function(){var t=this;this.shareLinks=[].slice.call(window.document.querySelectorAll(\".share-link\")),this.shareLinks.forEach((function(e){e.addEventListener(\"click\",t.linkClicked.bind(t))}))},t.prototype.linkClicked=function(t){var e=t.currentTarget;return this.message.innerHTML=e.dataset.message,this.acceptButton.innerHTML=e.dataset.ok,void 0!==e.dataset.uri?(this.acceptButton.dataset.action=\"share\",this.acceptButton.dataset.uri=e.dataset.uri):(this.acceptButton.dataset.action=\"copy\",this.acceptButton.dataset.uri=e.href),this.openModal(),!1},t.prototype.openModal=function(){this.instance.open()},t.prototype.acceptButtonClicked=function(){\"share\"==this.acceptButton.dataset.action?this.enableSharingViaAjax(this.acceptButton.dataset.uri):this.copyToClipboard(this.acceptButton.dataset.uri)},t.prototype.enableSharingViaAjax=function(t){new n.Fetch(t).then(this.processResponse.bind(this))},t.prototype.processResponse=function(t){var e=JSON.parse(t.responseText);this.message.innerHTML=e.message,this.acceptButton.innerHTML=e.ok,this.acceptButton.dataset.action=\"copy\",this.acceptButton.dataset.uri=e.href,this.openModal()},t.prototype.copyToClipboard=function(t){var e=document.createElement(\"textarea\");e.value=t,document.body.appendChild(e),e.select(),document.execCommand(\"copy\"),document.body.removeChild(e)},t}();o.ShareController=i},{\"../Utility/Fetch\":3}],3:[function(t,e,o){\"use strict\";Object.defineProperty(o,\"__esModule\",{value:!0}),o.Fetch=void 0;var n=function(){function t(t,e){this.onFulfillment=[],this.onError=[],this.onCompletion=[];var o=new XMLHttpRequest,n=this;o.onreadystatechange=function(){var t=this;4==this.readyState&&200==this.status?(n.onFulfillment.forEach((function(e){e(t)})),n.onCompletion.forEach((function(e){e(t)}))):4==this.readyState&&200!==this.status&&(n.onError.forEach((function(e){e(t)})),n.onCompletion.forEach((function(e){e(t)})))},o.open(\"GET\",t,!0),o.send()}return t.prototype.then=function(t){return this.onFulfillment.push(t),this},t.prototype.catch=function(t){return this.onError.push(t),this},t.prototype.finally=function(t){return this.onCompletion.push(t),this},t}();o.Fetch=n},{}],4:[function(t,e,o){\"use strict\";Object.defineProperty(o,\"__esModule\",{value:!0});var n=t(\"./Controller/ShareController\"),i=t(\"./Controller/NavigationController\"),r=function(){new n.ShareController,new i.NavigationController};o.default=r,new r},{\"./Controller/NavigationController\":1,\"./Controller/ShareController\":2}]},{},[4]);\n//# sourceMappingURL=packing_list.js.map\n","export class NavigationController {\n  constructor() {\n    const elements = window.document.querySelectorAll('.dropdown-trigger');\n    const instances = M.Dropdown.init(elements, { hover: false, alignment: 'right' });\n  }\n}\n","import {Fetch} from '../Utility/Fetch';\n\nexport class ShareController {\n  protected modal: HTMLDivElement;\n\n  protected message: HTMLParagraphElement;\n\n  protected acceptButton: HTMLLinkElement;\n\n  protected instance: M.Modal;\n\n  protected shareLinks: Array<HTMLLinkElement>;\n\n  protected shareLink: HTMLLinkElement;\n\n  constructor() {\n    this.initializeModal();\n    this.initializeShareLinks();\n  }\n\n  initializeModal() {\n    this.modal = window.document.querySelector('#shareModal');\n    this.message = this.modal.querySelector('.modal-content p');\n    this.acceptButton = this.modal.querySelector('.modal-footer .green');\n    this.acceptButton.addEventListener('click', this.acceptButtonClicked.bind(this));\n    this.instance = M.Modal.init(this.modal, {dismissible: false});\n  }\n\n  initializeShareLinks() {\n    this.shareLinks = [].slice.call(window.document.querySelectorAll('.share-link'));\n    this.shareLinks.forEach((shareLink) => {\n      shareLink.addEventListener('click', this.linkClicked.bind(this));\n    });\n  }\n\n  linkClicked(this: ShareController, event: Event) {\n    event.preventDefault();\n\n    const shareLink = event.currentTarget as HTMLLinkElement;\n\n    this.message.innerHTML = shareLink.dataset['message'];\n    this.acceptButton.innerHTML = shareLink.dataset['ok'];\n\n    if (shareLink.dataset['uri'] !== undefined) {\n      this.acceptButton.dataset['action'] = 'share';\n      this.acceptButton.dataset['uri'] = shareLink.dataset['uri'];\n    } else {\n      this.acceptButton.dataset['action'] = 'copy';\n      this.acceptButton.dataset['uri'] = shareLink.href;\n    }\n\n    this.openModal();\n  }\n\n  openModal(this: ShareController) {\n    this.instance.open();\n  }\n\n  acceptButtonClicked(this: ShareController) {\n    if (this.acceptButton.dataset['action'] == 'share') {\n      this.enableSharingViaAjax(this.acceptButton.dataset['uri']);\n    } else {\n      this.copyToClipboard(this.acceptButton.dataset['uri']);\n    }\n  }\n\n  enableSharingViaAjax(this: ShareController, uri: string) {\n    new Fetch(uri).then(this.processResponse.bind(this));\n  }\n\n  processResponse(this: ShareController, response: XMLHttpRequest) {\n    const data = JSON.parse(response.responseText);\n\n    this.message.innerHTML = data['message'];\n    this.acceptButton.innerHTML = data['ok'];\n    this.acceptButton.dataset['action'] = 'copy';\n    this.acceptButton.dataset['uri'] = data['href'];\n\n    this.openModal();\n  }\n\n  copyToClipboard(this: ShareController, uri: string) {\n    const temporaryElement = document.createElement('textarea') as HTMLTextAreaElement;\n    temporaryElement.value = uri;\n    document.body.appendChild(temporaryElement);\n    temporaryElement.select();\n    document.execCommand('copy');\n    document.body.removeChild(temporaryElement);\n  };\n}\n","'use strict';\n\nexport class Fetch {\n  protected onFulfillment: Function[] = [];\n\n  protected onError: Function[] = [];\n\n  protected onCompletion: Function[] = [];\n\n  constructor(url: string, options?: {method: string}) {\n    let xhr = new XMLHttpRequest();\n    let method = 'GET' || options.method;\n    let internalFetchContext = this;\n\n    xhr.onreadystatechange = function () {\n      let _data = this;\n      if (this.readyState == 4 && this.status == 200) {\n        // Action to be performed when the document is read;\n        internalFetchContext.onFulfillment.forEach(function (callback: Function) {\n          callback(_data);\n        });\n        internalFetchContext.onCompletion.forEach(function (callback: Function) {\n          callback(_data);\n        });\n      } else if (this.readyState == 4 && this.status !== 200) {\n        internalFetchContext.onError.forEach(function (callback: Function) {\n          callback(_data);\n        });\n        internalFetchContext.onCompletion.forEach(function (callback: Function) {\n          callback(_data);\n        });\n      }\n    };\n    xhr.open(method, url, true);\n    xhr.send();\n  }\n\n  then(this: Fetch, fulfillmentFunction: Function) {\n    this.onFulfillment.push(fulfillmentFunction);\n    return this;\n  };\n\n  catch(this: Fetch, errorFunction: Function) {\n    this.onError.push(errorFunction);\n    return this;\n  };\n\n  finally(this: Fetch, completionFunction: Function) {\n    this.onCompletion.push(completionFunction);\n    return this;\n  };\n}\n","import {ShareController} from './Controller/ShareController'\nimport {NavigationController} from './Controller/NavigationController'\n\nexport default class PackingList {\n  constructor() {\n    new ShareController();\n    new NavigationController();\n  }\n}\n\nnew PackingList();\n"]}